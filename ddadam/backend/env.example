# Backend Environment Variables Example
# このファイルを .env にコピーして使用

# ========================================
# Supabase 設定（必須）
# ========================================
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_KEY=your_service_role_key_here
SUPABASE_ANON=your_anon_key_here  # Optional
OUTPUT_BUCKET=outputs

# ========================================
# Redis 設定（Upstash）
# ========================================
CACHE_TYPE=redis  # "file" or "redis"
REDIS_URL=redis://default:xxxxx@xxxxx.upstash.io:6379
# または
# REDIS_URL=redis://localhost:6379/0  # ローカル開発用

# ========================================
# ファイルキャッシュ（fallback）
# ========================================
CACHE_FILE_PATH=./worker/jba_player_cache.json

# ========================================
# 出力設定
# ========================================
OUTPUT_DIR=./outputs
JOB_META_DIR=./temp_results

# ========================================
# ワーカー設定
# ========================================
MAX_WORKERS=5
ENABLE_PARALLEL=true

# ========================================
# JBA設定
# ========================================
JBA_BASE_URL=https://team-jba.jp
JBA_TIMEOUT=30
JBA_RATE_LIMIT=10  # requests per second

# 管理画面ログイン情報（CSV取得用）
# ※コード内に固定されているため環境変数は不要
# ADMIN_USERNAME=kcbf
# ADMIN_PASSWORD=sakura272

# ========================================
# API設定
# ========================================
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=["*"]  # 本番では制限すること

# ========================================
# ログ設定
# ========================================
LOG_LEVEL=INFO
LOG_FORMAT=json  # "json" or "text"

# ========================================
# 機能フラグ
# ========================================
USE_SUPABASE_STORAGE=true  # false の場合はローカルファイル
USE_SUPABASE_JOBS=true  # false の場合はファイルベース

# ========================================
# 開発環境用（オプション）
# ========================================
# 開発環境ではローカルファイルを使用
# CACHE_TYPE=file
# USE_SUPABASE_STORAGE=false
# USE_SUPABASE_JOBS=false

# ========================================
# TODO: 将来的な設定
# ========================================
# ENABLE_ASYNC=false
# JOB_QUEUE_TYPE=memory
# CELERY_BROKER_URL=redis://localhost:6379/1

